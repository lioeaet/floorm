при изменении вложенной орм подставляется значение по харду

diff не может содержать изменения вложенной orm, throw
сначала меняем вложенности, затем родителя

КАК БЫТЬ С РЕКУРСИЕЙ?
никак, нужно маппить id
вместо company ставить companyId везде
значения получать прямо из орм везде
и нахуя в таком случае вообще орм?

установить id для массивов в extractId
случай массива массивов говорит, что это невозможно при изменении вложенных orm
или нужно делать способ определения массивов юзером
или throw, вложенные orm-массивы неопределимы, они меняются только напрямую


если вложенная орм не-массив, то всё считается как надо
если вложенная орм массив, то у него невозможно определить id, и менять значение нужно через orm.put() 
но как сам пользователь узнает, где какой массив?
с сервера приходит список с маппингом айдишников массивов по инстансам

author: {
	books: [{}]
}
author: {
	books: 1
}


graph [[0, 1], [2, 3], [3, 4]]
непонятно, произошёл sort или change

const coords = {
	a: [1, 2],
	b: [2, 1]
}
const nextCoords = {
	a: [3, 2],
	b: [1, 2]
}
непонятно, поменялись ли coords.a и coords.b, или подставились новые итемы

coords map { a: 1, b: 2 }
next map { a: 3, b: 1 }

невозможно установить orm([]) в другую орм, т.к. у массивов не определить id
если массив принадлежит инстансу, он устанавливается как orm.put(instId, arr)
если не принадлежит, orm.put(null, arr)
